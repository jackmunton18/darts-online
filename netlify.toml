# filepath: /Users/jackmunton/source/darts/netlify.toml
[build]
  command = "npm run build"
  publish = ".output/public"
  
[build.environment]
  NODE_VERSION = "18"

# Netlify Functions for server API routes - these handle SSR
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/server/:splat"
  status = 200

# Handle SPA routing for client-side routes
[[redirects]]
  from = "/*"
  to = "/.netlify/functions/server"
  status = 200

[functions]
  node_bundler = "esbuild"

# Environment variables for Firebase Admin (these need to be set in Netlify dashboard)
# FIREBASE_PROJECT_ID
# FIREBASE_PRIVATE_KEY 
# FIREBASE_CLIENT_EMAIL
# FIREBASE_CLIENT_ID
# FIREBASE_AUTH_URI
# FIREBASE_TOKEN_URI
# NUXT_PUBLIC_FIREBASE_API_KEY
# NUXT_PUBLIC_FIREBASE_AUTH_DOMAIN
# NUXT_PUBLIC_FIREBASE_PROJECT_ID
# NUXT_PUBLIC_FIREBASE_STORAGE_BUCKET
# NUXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
# NUXT_PUBLIC_FIREBASE_APP_ID
